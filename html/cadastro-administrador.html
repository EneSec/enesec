<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>EneSec - Cadastro de novo(a) administrador(a)</title>

    <!-- CSS da Barra do Governo no topo da página -->
    <link rel="stylesheet" href="css/barra_do_governo.css">

		<!-- Bootstrap Core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

		<!-- Custom Fonts -->
		<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
		
		<!-- Theme CSS -->
		<link href="css/grayscale.min.css" rel="stylesheet">

		<script src="jquery.js" type="text/javascript"></script>
		<script src="jquery.maskedinput.js" type="text/javascript"></script>

	</head>


	<body style = "background-color: #FFFFFF;">

    <!-- Barra do Governo no topo da página -->
    <div id="barra-brasil">
      <div id="wrapper-barra-brasil">
        <div class="brasil-flag">
          <a href="http://brasil.gov.br" class="link-barra">Brasil</a>
        </div>
        <span class="acesso-info">
         <a href="http://www.servicos.gov.br/?pk_campaign=barrabrasil" class="link-barra" id="barra-brasil-orgao">Serviços</a>
        </span>
        <nav>
          <ul class="list">
            <li><a href="#" id="menu-icon"></a></li>
            <li class="list-item first"><a href="http://brasil.gov.br/barra#participe" class="link-barra">Participe</a></li>
            <li class="list-item"><a href="http://brasil.gov.br/barra#acesso-informacao" class="link-barra">Acesso à informação</a></li>
            <li class="list-item"><a href="http://www.planalto.gov.br/legislacao" class="link-barra">Legislação</a></li>
            <li class="list-item last last-item"><a href="http://brasil.gov.br/barra#orgaos-atuacao-canais" class="link-barra">Canais</a></li>
          </ul>
        </nav>
        <a class="logo-vlibras" href="http://www.vlibras.gov.br/" aria-label="Acessível em Libras"></a>
      </div>
    </div>

    <br><br>

		<div class="container">
			<form action = "cadastro-administrador.php" method="POST" class="text-left">
				<fieldset>
				<legend> <h1 class="text-info text-center">Novo(a) Administrador(a)</h1> </legend>
					
					<div class="col-md-6 col-md-offset-3">
						<label style="color: #000000"><strong> Nome </strong></label> <input type="text" required class="form-control" name="Nome">
						<br>

						<label style="color: #000000"><strong> Sobrenome </strong></label> <input type="text" required class="form-control" name="Sobrenome">
						<br>

						<label style="color: #000000"><strong> E-mail </strong></label> <br> <input type = "email" required class="form-control" name = "Email" id="email" onkeyup="checkPss2()">
						<br>

						<div id="email2Input" class="form-group has-feedback">
							<label style="color: #000000"><strong> Repita o e-mail </strong></label> <br> <input type = "email" required class="form-control" name = "Email2" id="email2" onkeyup="checkPss2()">
							<br>

							<span id="glyphiconIcon"class="glyphicon form-control-feedback" hidden="true">
						</div>
		
						<label style="color: #000000"><strong> Senha </strong></label> <br> <input type = "password" required class="form-control" name = "Senha" minlength="8" maxlength="16" id="senha" onkeyup="checkPss()">
						<span id="helpBlock" class="help-block">Obs: mínimo de 8 caracteres e máximo de 16</span>
						
						<div id="senha2Input" class="form-group has-feedback">
							<label style="color: #000000"><strong> Repita a senha </strong></label> <br> <input type = "password" required class="form-control" name = "Senha2" minlength="8" maxlength="16" id="senha2" onkeyup="checkPss()">
							<br>

							<span id="glyphiconIcon"class="glyphicon form-control-feedback" hidden="true">
						</div>
		
						<label style="color: #000000"><strong> Data de nascimento </strong></label> <input required class="form-control" name="Data" id="Data">
						<br>

						<label style="color: #000000"><strong> RG </strong></label> <input type="text" required class="form-control" name="Identidade">
						<span id="helpBlock" class="help-block">Coloque números, pontos e traços</span>
						<br>

						<label style="color: #000000"><strong> Órgão expeditor </strong></label> <input type="text" required class="form-control" name="Orgao">
						<span id="helpBlock" class="help-block">Ex.: SSP - DF</span>
						<br>

						<label style="color: #000000"><strong> CPF </strong></label> <input type="text" required class="form-control" name="CPF" id="boxcpf" onBlur="validaCPF()">
						<br>

						<label style="color: #000000"><strong> Endereço </strong></label> <input type="text" required class="form-control" name="endereco">
						<br>

						<label style="color: #000000"><strong> CEP </strong></label> <input type="text" required class="form-control" name="CEP" id="boxcep">
						<br>

						
						<div style="text-align: center">
							<button type="submit" class="btn btn-success" id="btn-cad">Cadastrar</button>
							<input type="button" class="btn btn-danger" value="Voltar" onclick="cancelar()">
						</div>

					</div>
				</fieldset>
			</form>
		</div>
		

		<script>

			var campo_cpf = false;

			$("#boxcep").mask("99.999-999");
			$("#Data").mask("99/99/9999", {
				completed: function () {
					var value = $(this).val().split('/');
					var maximos = [31, 12, 2100];
					var novoValor = value.map(function (parcela, i) {
						if (parseInt(parcela, 10) > maximos[i]) return maximos[i];
							return parcela;
						});
			
						if (novoValor.toString() != value.toString())
							$(this).val(novoValor.join('/')).focus();
				}
			});
			

			function checkPss () {
				if(document.getElementById('senha').value != "" && document.getElementById('senha2').value != "")
					if (document.getElementById('senha').value == document.getElementById('senha2').value) {
						document.getElementById('senha2Input').classList.remove('has-warning');
						document.getElementById('senha2Input').classList.add("has-success");
						document.getElementById('glyphiconIcon').classList.remove('glyphicon-warning-sign');
						document.getElementById('glyphiconIcon').classList.add('glyphicon-ok')
						document.getElementById('glyphiconIcon').setAttribute("hidden", false);
					}

					else {
						document.getElementById('senha2Input').classList.remove('has-success');
						document.getElementById('senha2Input').classList.add("has-warning");
						document.getElementById('glyphiconIcon').classList.remove('glyphicon-ok');
						document.getElementById('glyphiconIcon').classList.add('glyphicon-warning-sign')
						document.getElementById('glyphiconIcon').setAttribute("hidden", false);
					}
			}

			function checkPss2 () {
				if(document.getElementById('email').value != "" && document.getElementById('email2').value != "")
					if(document.getElementById('email').value == 
						document.getElementById('email2').value){
						document.getElementById('email2Input').classList.remove('has-warning');
						document.getElementById('email2Input').classList.add("has-success");
						document.getElementById('glyphiconIcon').classList.remove('glyphicon-warning-sign');
						document.getElementById('glyphiconIcon').classList.add('glyphicon-ok')
						document.getElementById('glyphiconIcon').setAttribute("hidden", false);
					}

					else {
						document.getElementById('email2Input').classList.remove('has-success');
						document.getElementById('email2Input').classList.add("has-warning");
						document.getElementById('glyphiconIcon').classList.remove('glyphicon-ok');
						document.getElementById('glyphiconIcon').classList.add('glyphicon-warning-sign')
						document.getElementById('glyphiconIcon').setAttribute("hidden", false);
					}
			}

			jQuery(function($){
				$("#boxcpf").mask("999.999.999-99");
			});

			function cancelar () {
				window.location.replace("usuario-administrador.php");
			}

			function validaCPF () {
				strCPF = $("#boxcpf").val();
				strCPF = strCPF.replace(/[^\d]+/g,'');

				var Soma;
				var Resto;
				var cboll = true;
				Soma = 0;

				if (strCPF.length != 11 ||
				strCPF == "00000000000" ||
				strCPF == "11111111111" ||
				strCPF == "22222222222" ||
				strCPF == "33333333333" ||
				strCPF == "44444444444" ||
				strCPF == "55555555555" ||
				strCPF == "66666666666" ||
				strCPF == "77777777777" ||
				strCPF == "88888888888" ||
				strCPF == "99999999999")
					cboll = false;


				for (i=1; i<=9; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (11 - i);
					Resto = (Soma * 10) % 11;

				if ((Resto == 10) || (Resto == 11))
					Resto = 0;

				if (Resto != parseInt(strCPF.substring(9, 10)) )
					cboll = false;

				Soma = 0;

				for (i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (12 - i);
					Resto = (Soma * 10) % 11;

				if ((Resto == 10) || (Resto == 11))
					Resto = 0;

				if (Resto != parseInt(strCPF.substring(10, 11) ) )
					cboll = false;

				if (!cboll) {
					$('#boxcpf').css('background-color','#FF7171');
					$('#boxcpf').focus();
					campo_cpf = true;
				}

				else {
					$('#boxcpf').css('background-color','#FFF');
					campo_cpf = false;
					return cboll;
				}

			}


			$(document).ready( function() {

				//verificar se os campos de usuário e senha foram devidamente preenchidos
				$('#btn-cad').click(function(){

					var senha_invalida = false;

					if($('#senha').val() != $('#senha2').val()) {
						$('#senha').css({'border-color': '#A94442'});
						$('#senha2').css({'border-color': '#A94442'});
						alert('As senhas preenchidas estão diferentes.');
						senha_invalida = true;
					}

					var email_invalido = false;

					if($('#email').val() != $('#email2').val()) {
						$('#email').css({'border-color': '#A94442'});
						$('#email2').css({'border-color': '#A94442'});
						alert('Os emails preenchidos estão diferentes.');
						email_invalido = true;
					}


					if (senha_invalida || email_invalido || campo_cpf)
						return false;

				});
				});

		</script>

		<script type="text/javascript" src="js/jquery.maskedinput-1.1.4.pack.js"/></script>

	</body>
</html>

